{% extends 'header.html' %}
{% block content %}
{% load static %}

<section class="page-title back-9550">
	<div class="overlay"></div>
	<div class="container">
	  <div class="row">
		<div class="col-md-12">
		  <div class="block text-center">
			<h1 class="text-capitalize mb-5 text-lg">Register new account </h1>
			<p style="color: red;">{{msg}}</p>
		  </div>
		</div>
	  </div>
	</div>
  </section>
<section class="contact-form-wrap section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <div class="section-title text-center">
                    <h2 class="text-md mb-2">Sign-In</h2>
                    <div class="divider mx-auto my-4"></div>
                    <p class="mb-5">Please enter your user e-mail and password in following box.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <form role="form" action="{% url 'citizen' %}" method="POST">
					{% csrf_token %}
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <input name="email" id="email" type="email" class="form-control" placeholder="E-mail" required>
                                <span id="emailError" style="color: red;"></span>
                            </div>
                            
                            <script>
                                // Get the email input element
                                var emailInput = document.getElementById('email');
                                // Get the error message element
                                var emailError = document.getElementById('emailError');
                            
                                // Add event listener to monitor changes in the email input field
                                emailInput.addEventListener('input', function() {
                                    // Get the value entered by the user
                                    var emailValue = emailInput.value;
                                    
                                    // Validate the email format
                                    if (!isValidEmail(emailValue)) {
                                        // If the email format is invalid, show error message
                                        emailError.textContent = 'Please enter a valid email address.';
                                    } else {
                                        // If the email format is valid, clear the error message
                                        emailError.textContent = '';
                                    }
                                });
                            
                                // Function to validate email format
                                function isValidEmail(email) {
                                    // Regular expression for email validation
                                    var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                                    return emailPattern.test(email);
                                }
                            </script>
                            
                        </div>

                        <div class="col-lg-6">
                            <div class="form-group">
                                <input name="password" id="password" type="password" class="form-control" placeholder="Password" required>
                                <span id="passwordError" style="color: red;"></span>
                            </div>
                            
                            <script>
                                // Get the password input element
                                var passwordInput = document.getElementById('password');
                                // Get the error message element
                                var passwordError = document.getElementById('passwordError');
                            
                                // Add event listener to monitor changes in the password input field
                                passwordInput.addEventListener('input', function() {
                                    // Get the value entered by the user
                                    var passwordValue = passwordInput.value;
                                    
                                    // Validate the password length
                                    if (passwordValue.length < 8) {
                                        // If the password length is less than 8 characters, show error message
                                        passwordError.textContent = 'Password must be at least 8 characters long.';
                                    } else {
                                        // If the password length is valid, clear the error message
                                        passwordError.textContent = '';
                                    }
                                });
                            </script>
                            
                           
                        </div>
                         <div class="col-lg-6">
                            <div class="form-group">
								<a href="{% url 'register' %}">create new acount</a>
							</div>
                        </div>

                    </div>
					<div class="text-center">
                        <button type="submit" href="#" class="btn btn-primary mt-4"  >Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock %}